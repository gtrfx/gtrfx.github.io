---
title: "exFAT 말고 뭘 써야되나??"
layout: post
tags: [crappy exfat]
---

요즘 가장 흔한 파일 시스템은 아마도 다음 중 하나가 아닐까 하는데..

1) NTFS (Windows)
2) APFS (Mac)
3) EXT4(2) (Linux)
4) exFAT
5) FAT32

FAT32는 진작에 퇴물이 되었지만 EFI 파티션에 쓰이고 있고 (UEFI가 읽을 수 있는 간단한 것이어야 하니) exFAT이 OS와 상관없이 쓸 수 있는 만능 파일 시스템으로 자리잡은 것처럼 보인다.

문제는 exFAT은 journaled (기록시에 별도로 저널링을 하는) 파일 시스템이 아니라 가장 약하다는 것이다. 기록시에 프로세스가 죽어버린다거나 컴퓨터가 꺼져버린다거나 umount가 제대로 안되었다거나 하면 다음에 파일 시스템이 인식이 잘 되지 않는다거나 마운트가 안되는 일이 허다하게 발생한다. repair를 한다고 하면 Windows가 아니면 깔끔하게 잘 안된다.

이를테면 exFAT으로 된 filesystem을 linux와 Mac에서 번갈아 붙였다 뗐다 한다고 하면 일단 문제가 발생하면 그 두 개의 OS에서는 깔끔하게 repair를 못하게 되어 결국엔 파일 시스템도 인식 못하는 경우에 이른다. 이럴 땐 윈도우즈에 가져가서 고쳐야 되는데, 이게 도대체 뭐하는 짓이란 말인가???

더구나 엄청나게 느리다. 정상적인 주력 파일시스템에 비해 좀 많이 느리다. 그러니까 전혀 쓸 이유가 없는 거다. 호환성은 다 개나 줘버리고.

개인적으로 봤을 때 시스템 백업하기에 가장 좋은 파일 시스템은 ext4라고 보여진다. 호환성으로 보면 hpfs가 조금 낫다. 왜? linux가 hpfs는 apfs에 비하면 그래도 어느 정도 잘 다뤄준다고 볼 수 있다. 반대로 Mac에서 ext4를 편하게 쓰기엔 아직도 부족한 점이 많다. Apple에서 EXT4를 공식적으로 지원해 줄 리 없으니까. 

적어도 집에 NAS가 있다면 이것은 linux 기반으로 돌고 있을 확률이 100%이고 ext4를 native하게 지원하니까 다른 OS를 주력으로 사용한다고 하면 어쩔 수 없이 network으로 access할 수 밖에. 그래도 수시로 파일 시스템이 망가져서 repair만 하기 바쁜 exFAT을 쓰면서 고생하는 것에 비하면 백번 천번 나은 선택이라고 본다. 

그래서 나의 선택은 ext4다. 

왜?
- NAS가 ext4를 잘 읽고 쓸 수 있으니까.
- ext4가 exFAT에 비해 안정적이고 빠르니까.
- 이 세상에서 가장 흔한 OS가 linux이니까.

