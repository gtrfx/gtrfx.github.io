---
title: "Xcode를 외부 builder를 통해 굴리는 방법"
tags: [xcode, docker]
---

별로 어렵지 않다. 프로젝트를 새로 만들 때 "Others"로 되어있는 것을 선택하면 된다. 이때 builder를 물어보는데, docker를 통해서 리눅스용 make를 부른다거나 그외 뭐든 할 수 있다.

문제는 디버거를 쓸 수가 없다는 것이다. LLVM으로 mac 용 binary로 빌드하면 디버거를 쓸 수 있지만, 그외 경우는 안된다. 디버거를 외부 디버거로 지정할 수도 없으니까.

단지 내가 커맨드라인에서 docker로 gdb를 부르든 다른 버신의 gdb를 부르든 해야된다. 

그래도 좋은 것은 컴파일러가 error/warning을 내면 그것을 에디터에서 잘 파싱해서 지적해주는 것이고 Makefile 같은 것들은 직접 작성해야 되니까 빌드 옵션을 쉽게 쉽게 바꿀 수 있다는 것이다.

생각을 좀 확장해서보면 어차피 x86 Mac에서 x86 linux binary를 만들어내야 하는 일이나 M1 mac에서 X86 linux 바이너리를 만드는 일이나 네트워크 속도만 빠르면 가상머신으로 붙으나 리모트 머신으로 붙으나 사실 마찬가지다. 어차피 나중에 x86에서 빌드해서 쓰면 되니까 모든 작업은 M1에서 하면 안되는 거냐 할 수 있는데, 짜증나게 x86 바이너리로 된 라이브러리를 링크해야한다. 억울하면 내가 전부 다 만들어야 되는데, 그것은 사람이 할 짓이 못된다. 

M1 mac에서는 x86 mac binary를 구동할 수 있지만, aarch64에서 amd64 linux binary를 굴릴 수 있는 방법은 없다. wine을 가지고 있으면 windows binary도 돌릴 수가 있는 게 linux인데 말이다. 

이러한 상황이라면 회사에 있는 리모트 x86 머신에 내 로컬 파일 시스템을 nfs로 내보내게 해야 하는데, 이 역시 못할 짓이다. vpn 거치고 느려터진 인터넷 거쳐서 왔다리 갔다리 하려면 시간 손실이 막대하다보니 말이다 (물론 회사 클라우드에 직접 vpn으로 접속해서 작업하는 인내력 엄청난 이들도 있다.)

