---
layout: post
title: "스피커 임피던스 이거 앰프 시뮬레이터에 어떻게 반영하나??"
author: "Keith"
---

### 들어가며스피커의 임피던스와 관련하여 몇 가지 내용을 정리했는데, 이번엔 이것을 앰프 시뮬레이션에 어떻게 반영해야할지 좀 더 자세히 생각해보려고 한다.### 왜 스피커 임피던스를 반영해야 되나파워앰프의 출력은 트랜스포머로 전압을 낮추고 전류량을 늘리는 방법으로 변환되어 스피커에 연결된다. 여기서 트랜스포머를 이상적인 특성을 가지고 있는 것으로 가정하면, $ \alpha $ 를 트랜스포머의 변환비 (권선비)라고 하면 출력관 plate에 $\alpha^2 Z_L$ 의 부하가 걸린 것처럼 동작하게 된다. 여기서 $Z_L$이라 함은 부하(=스피커)의 임피던스를 의미한다. 결국, 출력 신호가 스피커 임피던스에 맞춰 재단된다는 뜻이다.이미 앞서 기타 캐비넷에 들어가는 스피커는 스스로가 12인치 우퍼에 해당하기 때문에 그 넓은 구경이 가져다 주는 100Hz 근방의 공진 주파수 특성을 가지고 있고, 스피커 코일의 인덕턴스에 의하여 1kHz 이후에서 임피던스가 증가하는 경향을 보인다고 했다. 또 캐비넷을 디자인하는 것에 따라서 공진주파수나 고음특성과 관련된 임피던스는 변화하게 된다 (캐비넷 안의 공기흐름이 콘지의 움직임과 관련되어 기전력/역기전력에 의하여 임피던스에 영향을 미친다).어쨌든 신호처리를 해야 하는 입장에서 바라보면 이 자체가 또 하나의 필터 (EQ)가 되는 것이다. 즉 다시 말해서 파워앰프에서 phase splitter를 지나온 신호가 증폭되어 최종적으로 출력관 plate에서 스피커를 구동하게끔 되는데 여기에 걸리는 전압이 주파수에 따라 들쭉 날쭉 하게 되는데, 그것이 결국 스피커로 전달되는 소리의 모양새를 결정해주게 되는 것이다. 다시말해 스피커 IR에 적용되기 직전의 EQ로 봐야한다.### 캐비넷 시뮬레이션을 위한 더미로드왜 갑자기 더미로드 얘기가 나오나 할텐데, 실제로 기타앰프의 엄청난 출력을 줄여서 레코딩에 활용하거나 방구석용으로 쓰기 위해서 더미로드가 활용되는데, 구태여 비싼 값을 주고 더미로드를 구입하는 이유는, 8ohm 혹은 4ohm의 일반 저항을 달아놓는 것보다 좋은 소릴 내어주기 때문이다. 과연 이 더미로드가 어떻게 생긴 것인지 본 적이 있는지 모르겠다만, 이것은 유명한 스피커 캐비넷의 임피던스 측정값을 토대로 그것을 등가회로로 바꿔놓은 것이다. 스피커가 아닐 뿐이지 스피커와 비슷한 임피던스 특성을 가지고 있는 회로란 것이다. 단, 흘러다니는 전류의 양이 너무 많으니까 저항이나 coil을 대 전류용으로 달아놓았다는 차이가 있다. 그런데 대개 coil이 대전류용으로 된 것을 쓰려면 자신이 직접 감는다거나 특수용도로 누군가에게 감아달라고 해야하는데, 단가가 너무 많이드니 DIY에 열성인 정통파들만 자체 제작을 하고, 대량생산으로 나오는 물건들은 등가회로의 일부만을 만들어놓고 그걸 임피던스 변환해서 약전계 부품으로 적절히 EQ 구실을 하는 필터를 좀 달아놓은 경우 (그 유명하다는 팔X의 PD?-3 부터 다양함)가 많다. 어쨌든, 더미로드로 이런 짓을 하는 이유가 뭘까? 그렇다, 스피커의 임피던스를 제대로 흉내내야 제대로된 소리가 나오니까 하는 것이다. 그렇지 않으면 뭔가 아쉬운 소리가 나는 것이다. 특히나 파워앰프 디스토션을 원하는 사람들에겐 더더욱 그렇다. ### Feedback, Phase inverter와의 관계스피커에서 feedback을 하여 phase inverter로 들어가는 것이 일반적인 기타 앰프 설계이고, 여기에 몇 개의 필터가 달려있거나 5150계열처럼 resonance와 presence가 달려있는 경우가 보편적이다보니 이 부분을 앰프 시뮬레이션에서 무시할 수는 없다. Axe Fx 같은 장비에서는 이것을 획일화된 EQ로 통합해버렸다. 그래서 그 값을 앰프 모델에 맞춰서 preset으로 넣어버렸다. 따라서 실물 앰프의 presence와 resonance, filter characteristic과는 다른 느낌을 갖지만, 워낙 변수가 다양하기 때문에 잘만 맞추면 비슷한 소리가 나는 것인데, 실제로 feedback을 하거나 하는 건 아니란 말이다. 그만큼이나 이부분의 회로를 시뮬레이션하는 것은 지저분하기 그지 없기 때문에 아마도 과감히 포기해버렸다가 맞을 것으로 해석된다. 단순한 Presence가 들어간 feedback 회로는 모델링이 그리 어렵지 않다. 특히나 이 부분을 쉽게 포기할 수 없는 이유는, feedback을 어느 정도로 할지에 따라 앰프 출력의 변화도 있고 찌그러짐의 변화도 아울러 나타나게 되기 때문이다. 예를 들어 최종 출력이 찌그러지게 되면 feedback해야할 만큼의 진폭이 되지 못하므로, 결국 phase inverter에 들어가는 feedback의 양이 줄어서 오히려 파워앰프를 더 드라이브하는 결과를 가져온다. 만일 연주자가 파워앰프 디스토션이 일어나는 구간 주변에서 연주하고 있다고 할 때, 이 부분을 제대로 모델링하지 못하면 그 미묘한 다이내믹에 따른 파워앰프의 반응은 모델링할 수 없는 것이다. 다시 말해 프리앰프 출력을 어느 정도 가공해서 스피커 시뮬레이터에 보내버리는 것과 다를 바 없다.### 스피커의 등가회로 구성을 위한 요소들기본적으로 스피커 임피던스를 등가하기 위해서 몇 가지 요소가 필요하다.* minimum impedance* maximum (peak) impedance* Resonance frequency* Q factor at resonance frequency* impedance at 10kHz이 정도의 요소면 등가회로를 구성하는 5개 부품의 값을 결정할 수 있다. 동시에 이것으로 일종의 parameteric EQ로 만들 수도 있다.### 나오며스피커 임피던스 요소를 반영하기 위해서는 플러긴 해당 parameter를 추가하여 parametric EQ를 만드는 것이 바람직하다고 판단된다. 물론 이미 측정되어있는 데이터들을 활용해서 미리 프리셋을 만들어두고 운영하는 것이 일반 사용자를 위해 좋은 방법이기도 하다. 한가지 문제는 이미 지적했던 바와 같이 스피커의 IR이 어떻게 측정되었느냐 하는 것이다. 측정 장비에 사용한 앰프가 스피커의 임피던스 특성과 무관하게 주파수 특성을 flat하게 가져갈 수 있는 장비인지 아닌지에 따라 IR에 스피커 임피던스 특성이 미리 반영된 것도 있고 아닌 것도 있고, 또 100Hz 근방의 resonance 특성이 IR에 잡혀있는 것과 아닌 것이 존재하기 때문이 이것도 선택적으로 적용되어야 한다. 특히 IR이 임피던스 특성을 가지고 있으면, 이것은 파워앰프의 feedback loop에 반영할 수 없기 때문에 애매한 결과를 가져오게 된다. 따라서, 내가 생각하는 바는 다음과 같다.* IR은 순수하게 스피커의 주파수 특성만을 반영한 것이어야 할 것 (임피던스 특성은 측정장비에서 feedback으로 완벽하게 컨트롤 됨)* 파워앰프에서는 스피커 임피던스를 반영한 가상의 dummy load (parametric EQ처럼 컨트롤 되는)를 적어도 달고 있어야 함

