---
title: "Ryzen machine이 수시로 rebooting 되는 경우"
tags: [ryzen]
layout: post
author: "Keith"
---

Ryzen 5950x 머신을 10대 들여놓았는데 openmpi로 열일을 시켜보았더니 처음 한달 정도는 별 문제 없이 잘 돌아가나 싶었는데, 대충 1년쯤 되가니 문제를 일으킨다. 지금 2대가 문제였는데, 첫번째 것은 UEFI setup을 그냥 default로 놔준 뒤에 아무 문제없이 잘 돌아가고 있고 나머지 한 대도 마찬가지로 해주었지만 여전히 수시로 rebooting이 되어서 어쩔 수 없이 CPB (Core Performance Boost) 옵션을 꺼버린 뒤에 잠잠해졌다.

처음엔 조립한 업체에 소리를 의뢰했더니 아무 문제없다며 물건을 돌려보냈는데 셋업을 열어보니 이것들이 일부러 CPB를 꺼두고 테스트 한 걸 몰랐다가 나중에 하도 performance가 차이가 나서 알게 되었다. 

RAM voltage를 올려보란 이야기가 있어서 해봤으나 별 도움이 안되었고 결국 CPU 성능을 떨구고 나서야 해결 되었다.

아무래도 5950x는 뽑기 운이란 게 크게 작용하고 있고 물건이 한 두 푼 하는 게 아니라 구입 직후에 미친 듯이 일을 시켜서 깐깐하게 테스트해봐야 맞다.

CPB를 꺼버리면 어떻게 되느냐? 대충 4GHz 넘는 클럭이 올라가도 되는데, 그걸 강제로 3.3GHz로 해놓는다. 성능이 대충 이 비율만큼 떨어진다. 그러니까 대충 80% 혹은 그 아래가 된다. 모든 CPU core의 평균도 같은 비율로 떨어진다. 

같은 일을 돌린다고 할 때 대충 1.25배가량 시간이 더 든다. 100분 돌아야 할 게 125분 돌아야 한다고 하면 이해가 빠르다. 왜 깉은 돈을 내고 구입한 CPU인데 이 지경이냐 해봐야 내가 직접 CPU를 구입 직후에 확인하고 반품하지 않은 죄다.

