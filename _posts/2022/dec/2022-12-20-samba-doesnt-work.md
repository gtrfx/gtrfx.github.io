---
title: "갑자기 smb (samba)가 동작 안한다면.."
tags: [linux, samba, smb, apparmor]
---

arch linux를 개인적으로 선호하고 있고 GUI가 필요한 시스템에서는 manjaro를 애용하고 있다. 문제는 워낙 업데가 잦고 뭐가 업데되고 안되는지 확인하기가 쉽지 않다는 것이다. 이렇게 뭔가 업데가 되면 보안 기능은 날로 강화되고 있는데 사실 여기에 전념해서 팔로우업을 하지 않는다면 당연히 시대에 뒤쳐질 수 밖에.

사실 이 문제는 예전에도 나왔던 문제인데 또 시스템이 업데되는 도중에 문제가 되었다.

뭐냐고?

apparmor라는 것이 보안기능을 행사해서 잘되던 smb가 잘 안된다는 것이다. 지난 10월에 뭔가를 올렸던 모양인데, 확인해보니 aa-teardown이란 명령을 이용해서 전부 무력화시켰는데, 업데가 되는 도중에 다시 활성화가 되었다.

이번엔 그냥 귀찮으니 다음과 같이 해주면 된다.

```
sudo aa-disable smbd
```

아예 부팅시에 apparmor를 꺼놓고 하려고 하려다가 부팅만 여러 번 했는데 이게 실효성이 있는 것은 아니다. 그냥 간단하게 위에 라인만 실행해주면 된다.
