---
title: "Raspberry pi 음악서버"
tags: [owntone]
layout: post
author: "Keith"
---

owntone이라는 프로젝트가 있다. 원래 forked-daapd라는 프로젝트였는데 뭔가 상품화를 하려고 하는 것인지 기능도 개선되고 이름도 바뀌었다. 어쨌든 이것의 용도는 itunes music library를 비애플 기기에 올려두고 공유해서 쓸 수 있게 하는 것이다. 

내 경우는 내가 모아놓은 모든 음반들의 digital file을 한 곳에 몰아두고 원할 때마다 꺼내들을 수 있게 한 것인데, 사실 그냥 NAS 같은데 음악을 몰아넣고 듣는 것이 관리도 편하고 신경 쓸 것도 없어서 좋지만, 뭐랄까 앨범 단위로 모아두고 artist/album 단위로 검색도 가능하게 하면서 artwork까지 제대로 넣어두고 관리하려면 지금은 iTunes만한 게 없기 때문이다.

아쉽게도 지금은 iPhone이나 iPad에서 iTune으로 이 라이브러리를 가져다 쓸 수 없게 해놓았다. 뻔한 얘기지만 대부분의 음반들을 자신들이 유통시키고 있으니까 개인이 라이브러리를 만들어놓고 듣게 하는 경로를 차단한 것이다. 오직 예전에 가지고 있던 음악 파일들만 동기화(?)시켜서 듣게 할 뿐. 

그래도 하나 살려둔 게 itunes remote라는 것이다. 그러니까 집안 어디에 iTunes가 있는 장치가 있다면 그것을 원격 조종할 수 있게 해놓은 것이다. owntone이 좋은 것이 이 기능을 가능하게 해놓았다는 것이다. 무슨 말이냐면 owntone을 raspberry pi 같은 곳에 설치해놓고 뮤직 라이브러리를 꾸려놓으면 iphone/ipad/.. 등등이 이것을 원격조정해서 플레이할 수 있단 말이다.

이게 뭐가 좋냐고? 이를테면 RPI를 멀쩡한 오디오 시스템이 물려놨다거나 아니면 RPI의 블투 링크로 다른 오디오시스템 (지금은 그냥 모든 걸 다 스피커라고 부르는 세상이니 (불투)스피커)에 연결해놓았다고 하면 itunes remote로 owntone에 등록된 나의 라이브러리에서 꺼내듣는 것이다. spotify라든가 apple music처럼 쓸 수는 없다. 물론 spotify에 라이브러리를 만들어놨다면 owntone이 그것을 플레이하도록 할 수는 있다.

그러니까 휴대용기기가 직접 블투 스피커에 접속해서 음악을 플레이하게 할 수도 있지만, 그렇게 되면 내가 모든 음악파일을 가지고 있거나 아니면 인터넷을 통해서 스트리밍 서비스를 받아야 하니까 집안 한 구석에 뮤직 라이브러리를 두고 (RPI는 24/7 켜두어도 사실 별 부담이 없으니) 그것을 가져다가 이 방 저 방에 있는 스피커 시스템에서 플레이할 수 있게 한다는 것이다.

사실 방방마다의 스피커를 컨트롤 하려면 RPI와 스피커간의 블투링크가 좋을 때나 가능한 것이고 사실 아파트가 아닌 일반 주택가에서도 2.4GHz 주파수 대역의 간섭은 엄청나서 커버리지가 매우 짧다. 

문제? 플레이리스트를 iTunes에서 만들어넣기를 할 수가 없다. 할 수 있는 데 하는 방법을 모르는 것일지도 모르지만. 이것은 서버셋업(owntone.conf)에서 건드릴 수 있다. smart playlist라고 해서 조건식을 넣어서 만들 수도 있고.