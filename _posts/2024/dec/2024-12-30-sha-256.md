---
title: "SHA256..."
tags: [life]
published: false
author: "Keith"
layout: post
---

예전에 같이 일했던 엔지니어 하나가 3-4년 전에 크립토 코인 마이닝 장치(사실상 칩)을 만드는 스타트업으로 옮겼다. 그 이후로도 하다 말고 나간 일들 때문에 식사 모임을 빙자해서 한 두 번 봤던 것 같은데 대략 들은 얘기만 종합하면 전류를 어마어마하게 먹고 여러 개의 칩들이 직렬로 연결되어있고, .... (이 이후의 이야기는 뭐랄까 블로그에 적기도 뭐한 내용들이다). 전력을 워낙 많이 먹기 때문에 흘리는 전류가 mA 단위가 아닌 A 단위도 수십 A 단위라니 놀라운 일인데 또 이 세계에서는 그냥 별 것 아닌 듯 하다.

공랭을 하기도 하고 어떤 매질 속에 넣어서 냉각을 시켜서 돌리기도 한다니 역시나 이 사람이 원하는 재미있는 프로젝트로구나 싶다. 알맹이는 고작해야 SHA256 hash를 만들어내는 일을 줄창해내는 것이었다. 관련해서 내용을 찾아보면 상당히 많은 cryto-coin들이 SHA256을 사용해서 암호화를 하는 구나 싶다. 그러니까 단순히 특정 코인 몇 개만 타겟팅해서 이 비싼 칩을 찍어냈을 리가 없을테니까. 생각보다 힘이 있는 회사인지 좋은 공정을 제공하는 Fab에서 칩을 찍어낸 모양인데 그 회사에 조인한 뒤에 제법 시간이 걸린 뒤에 칩이 나왔다 들었으니까 단순히 칩 설계 말고도 할 일이 많았나 싶다. 어차피 SHA256을 구현하는 것은 별 것 아니었을텐데. 

듣자하니 수력 발전처럼 전기가 남아도는 국가들에서 이 장비들을 들여다가 남는 전기를 이용해서 암호화 코인을 마이닝해서 그것을 갖고 있다고들 한다. 잘 나가는 코인들은 수익률도 쏠쏠하고 하니까 말이다. 완벽하진 않지만 어떤 국가에서 암호화 코인을 얼마나 가지고 있는지 발전량-소비량-채굴장치 구입량을 토대로 추산을 한다니까 사실상 이 일은 나같은 사람들이나 신기한 일이지 돈에 조금이나마 관심 있는 사람들에게는 상식이나 다름없는 일인 듯 하다.

채굴장치는 전류 소비량과 초당 HASH 생성량을 가지고 제어가 가능하게 되어있는 듯 하다. 그러니까 현재 발전량에 맞춰서 채굴량을 컨트롤 하는 걸로 보여진다. 사실 그 칩이라는 게 수 많은 병렬 hash generator의 조합인 것인데 (실제로 칩의 크기도 생각보다 작다) 얼마나 많은 칩에 전류를 흘리느냐에 따라서 채굴량과 전류 소비량이 결정되는 식으로 컨트롤이 되는 듯 하다.

좀 신기한 것은 그 옛날엔 채굴을 GPU로 했는데 그렇다면 SHA256 알고리즘을 GPU로 굴렸단 것인가 생각해보면 뭐랄까 좀 웃긴다 싶다. ASIC으로 구현하면 로직도 간단하고 전력소비량 대비 효율이 정말로 어마어마할텐데 이걸 사실상 용도가 완전히 적합하다고 볼 수 없는 GPU를 고생시켜가며 했구나 하니 뭐랄까 웃기기도 하고. 그렇다고 개인이 FPGA를 가지고 구현을 한다고 하더라도 FPGA의 개당 구입단가/하드웨어 제작비용에 비하면 채굴량이나 전력효율이 높지 못하니 이 역시도 애매했구나 싶다. 

어쨌든 이런 회사들은 채굴 장치를 개발하는 것으로 어느 수준 이상의 fund를 조달한 뒤에 AI/ML 세계를 위한 주문형 반도체 제작으로 넘어가려는구나 싶기도 하고. 