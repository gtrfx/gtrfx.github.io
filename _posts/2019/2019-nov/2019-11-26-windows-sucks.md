---
layout: post
title: "Windows 도무지 왜 써야 되나"
tags: [macOS, linux, windows]
image: https://cdn.arstechnica.net/wp-content/uploads/2019/07/windows-10-s-wallpaper-800x450.jpg
---

3대 OS를 모두 설치하고 안정화시키느라 열심히 맹컴중에 있다. 계속해서 느끼게 되는 것은 '윈도우즈는 왜 써야 되나?' 다.

사실 수년간 거의 윈도우를 쓰지 않았다. 정말로 피치 못한 경우 (증명서 발급, 인터넷 뱅킹)를 빼곤 말이다.

이번엔 정말 확실히 느낀게 같은 컴퓨터 자윈으로 OS 별로 이렇게 성능차이가 날 수 있을까 하는 것이었다.

CPU 벤치마크는 높게 나온다. 물론 GPU 벤치마크도 괜찮게 나온다. 문제는 파일 시스템이 어마어마하게 느리다는 것이다.

테스트 삼아서 비교적 설치해서 빌드해서 쓰기에 매우 큰 gcc 9.2.0을 받아와서 압축을 풀고 빌드하는 일을 해봤다.

리눅스에서 또 리눅스의 docker 상에서 어마어마하게 빨랐다. MacOS native 상태에서도 이 일은 매우 빨리할 수 있었다. 다만 docker 상태에서는 파일 쓰기가 느린 것인지 생각보다 시간이 오래걸렸다. 빌드도 docker 상에서는 그리 빠르지 않았다.

Windows에서는 어땠느냐고? 압축을 푸는 동안 식사를 하고 와도 다 끝나지 않았다. VM 상태였냐고? 아니다 native windows 상태에서 그랬다. 물론 Windows위에 Linux를 돌리거나 다른 guest OS를 심으면 훨씬 더 느려지는 것은 기본이고 mingw/msys(2) 같은데서 하면 그 느려터짐은 이루 말할 수 없는 정도 였다. 그냥 빌드는 시도조차 할 수 없었다. 파일 시스템 엑세스가 너무 느린 관계로 그냥 하나마나였던 것이다.

그러니까 덩어리가 큰 파일 하나를 읽고 쓰는 경우는 그 속도가 큰 차이가 없지 싶지만 크기가 작은 수많은 파일들을 읽고 쓰게 되면 정말 말도 못하게 느려진다. 이게 내부적으로 백신 비슷한 애플리케이션이 돌고 있어서가 아닐까 하는 생각도 하게 되지만, 사실 그래서 시스템 성능이 이렇게 저하된다면 방법을 바꿔야 되는 게 맞는 게 아닌가? 하는 생각도 아울러 하게 된다. 어차피 쓰지도 않을 OS 더 험담해봐야 뭐하겠는가.

신기하게도 윈도우즈가 부팅 속도는 매우 빠르다. 그런데 나머지는 전부 꽝이다. 그냥 게임을 하라고 만든 OS 인 것 같다. 최신형 SSD가 이 모양이니까 HDD 시절에는 어떻게 살아왔는지 신기한 노릇이다.

이번에 Linux kernel이 5.4가 풀리면서 정식으로 exFAT을 지원하게 되었다. exFAT은 이제 명실공히 모든 OS가 지원하는 파일시스템이 되었다. 리눅스에서는 엄청나게 빠르게 읽고 쓰기가 가능했다. MacOS에서는 오래전부터 지원했으니 그렇다 치고.

3개의 OS를 모두 써보고 느낀 점은

Linux가 가장 빠르고 일 잘하는 것은 알겠는데, 전반적으로 주변장치 드라이버 등등 OS의 설치와 동시에 사용할 수 있고 나름 잘 최적화되어있어서 좋은 성능을 낼 수 있는 OS는 MacOS 뿐이이란 것이었다. AMD CPU를 위해서 hv_support만 지원 된다면 정말 더 바랄 게 없을 정도로 좋다. 이래서 내가 해킨을 안할래야 안할 수가 없다.
