---
title: "Guitar Amplifier Simulator"
date: 05/17/2017
---
# Guitar amplifier Simulator

현재 팔리고 있는 amplifier simulator는 크게 다음과 같이 구성되는 것으로 보여진다.
1. 앰프 회로를 그대로 시뮬레이션하는 시뮬레이터
1. 앰프 특성의 스냅샷을 이용하는 시뮬레이터

흔히 아는 바 대로 

1번은 아날로그 회로 소자들을 모델링하여 일종의 nonlinear differential equation을 풀어내는 방법과 단순히 saturator와 IIR filter (bilinear transform을 이용한)로 바꾸어 회로와 비슷한 응답을 얻어내는 방법이다. 전자의 경우는 복잡도가 많이 요구되고 모든 회로가 그렇듯 살짝만 바뀌어도 회로 수식이 전부 다 새로 바뀌게 되므로 모델링이 매우 정밀한 반면 작업 난이도가 높다.

후자의 경우는 회로를 부분 부분으로 쪼개서 (discretization하여) 각각을 디지털 필터와 satruator로 바꾸는 방법인데, 실제로 아날로그 회로는 회로의 일부분이 바뀌더라도 그 영향은 회로 전반에 미치게 되므로 가정 자체가 틀린 가정이지만, 계산상의 수월함과 TR이 아닌 진공관 회로를 모델함에 있어서 진공관으로 구성된 매 증폭단의 입력 임피던스가 커서 영향을 덜 받는다는 점을 이용한 것이다. 회로를 모듈별로 꾸미기 유리하고 계산량도 작으므로 이런 방법을 많은 시뮬레이터에서 이용하고 있다. 

2번은 프로파일링 앰프라고 불리우는 것들에서 사용하는 것으로서 가청 신호 영역대를 N개로 나눠서 그 주파수 응답을 측정하는 방법이다. 그렇게 측정한 주파수 응답을 이용해서 온전한 impulse response를 얻어내진 못하더라도 최대한 유사한 impulse response를 얻어내 재현하는 것을 목표로 한다. 모든 앰프 시뮬레이션 방법 중에 가장 간단하며 근사화를 가장 심하게 한 것임에도 불구하고, 또 가장 낮은 복잡도를 갖음에도 불구하고 뮤지션들로부터 사랑 받고 있는 제품 중에 하나다.

### Amplifier circuit simulation

Amplifier circuit은 R, C, 그리고 진공관으로 구성된 일종의 비선형 회로이다. 따라서 그것을 해석하는 방법은 non-linear differential equation을 풀어내는 것이다. C가 들어감으로써 회로의 특징은 시간에 대한 전압의 미분 식으로 나타내어지기 때문이다. 즉, 전류와 전압의 관계가 진공관 때문에 비선형적인 관계로 나타내어지고, R,C 로 구성된 네트워크가 시간에 대한 전압의 미분식으로 전류를 표현하게끔 한다. 이 방정식은 단번에 해를 구할 수 없고 일종의 점근식을 이용하여 목표 오차 이내의 결과를 얻어내는 근사 방법을 이용한다.

이 과정은 회로상에서 진공관이 빠져나가게 되면 흔히 알고 있는 bilinear transform을 통해서 아날로그 필터 회로를 디지털 필터로 변화시키는 과정과 일치하게 되는데, 여기서 진공관을 진공관 모델 (각 단자를 흐르는 전류가 각 단자 전압을 인자로 취하는 함수로 표현되는)로 놓고 미방을 풀어내느냐 아니면 진공관을 단순한 입력 전압에 대한 출력 전압의 함수관계로 간략하게 근사화하느냐에 따라 복잡도와 정확도의 수준이 갈리게 된다. 후자의 경우는 진공관을 단순한 saturator로 보는 관점이다.

회사마다 자사의 모델링 방법을 공개하고 있진 않지만, 개발의 용이성, 그리고 귀로 듣는 오차의 수준이 크지 않으므로 후자를 사용하여 모델링하는 것으로 알고 있다.

### Amplifier Profiling

이 방법에 대해서도 제작사가 공개적으로 오픈한 정보는 없다. 그러나, 제품의 동작 방법이라든가, 앰프를 프로파일링했을 때 저장되는 결과값을 가지고 판단했을 때에는 앰프 자체를 엄청나게 단순한 모델로 근사화함을 알 수 있다.

대개 앰프를 2가지 타입으로 나눈다.
1. Clean amplifier
1. non clean (=overdriven, distorting, saturating, ...) amplifier

즉, 앰프가 찌그러짐을 일으키느냐 아니냐에 따라서 두 가지로 나누는 것이다. 여기서 힌트를 얻을 수 있는 것이 1의 경우는 앰프 그 자신은 단순한 선형 필터로 구성된다. 반면 2의 경우는 앰프의 구성 블록 어딘가에 saturator를 포함하고 있어야 한다. 이것을 어떻게 구성하느냑가 사실상 실제의 앰프와 얼마나 근접한 사운드를 내느냐와 연관된다.



