---
title: "Guitar Amplifier Simulator on Raspberry Pi (4)"
categories:
    - project
---

USB 포트로부터 전원을 공급받는 사운드카드는 대개 호스트 PC로부터 노이즈를 받는다. 전원이 약간씩 흔들리는 것이다. 전원 전압이 흔들리는 덕택에 그 출력이 고스란히 오디오 출력에 나타나게 된다.

그러나 대개 이 노이즈는 오디오 출력보다 레벨이 낮아서 잘 들리지 않는데, 앰프로 크게 증폭해서 듣는 동안 실제로 오디오 출력이 없는 순간 - 그러니까 디지털 영역에서는 0이 출력되는 구간 - 에서 여실히 드러난다. 또 마이크 단자를 이용해서 뭔가 녹음을 하려 할 때 이 때 마이크 신호를 라인레벨로 올리는 과정에서 어느 정도 증폭이 일어나므로 이때 또 노이즈가 크게 부각이 된다.

이 때의 노이즈는 대개 험이라기 보단 PC 동작에 의한 노이즈 중에서도 가청대역으로 흘러나오는 노이즈라 대개 규칙적이지 않고 단속적으로 나타난다. 이를테면 HDD를 엑세스한다거나 외부와 통신할 때 느린 주기로 데이터가 오가는 경우 그것이 가청 주파수 대역으로 잡히게 되기 때문이다. 그외 빠른 속도로 이루어지는 처리에 있어서는 비교적 높은 주파수의 히스잡음이 들린다. 만일 호스트가 오디오 처리용 앱을 돌린다거나 할 때는 이 앱이 오디오 신호를 받아들이는 주기에 맞춰서 돌기 때문에 삐이~하는 소리까지 난다. 

따라서 좋은 오디오 카드가 되려면 안정된 외장 전원을 쓰든가 아니면 호스트 PC로부터 가져오는 전원을 필터링을 하든가 해야 한다.

내가 가지고 있는 오디오 카드 중에 나름 비싼 것은 내부에서 isolation이 잘 되는 모양인지 외부전원을 사용하지 않아도 비교적 깨끗하게 플레이되고 녹음도 된다. USB쪽 전원이 굉장히 지저분한 라스베리파이 같은 것과 연결해서 잘 동작한다. 반면에 칩하나만 덜렁 붙어있는 물건들은 볼 것도 없이 잡음이 찬란한데, 이를 위해서 어떻게 호스트 USB 포트의 전압을 안정시켜서 오디오 품질을 올리는가가 관건이 될 것 같다.


