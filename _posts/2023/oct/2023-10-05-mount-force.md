---
title: "NFS mount가 안 떨어져나갈 때.."
tags: [mount, nfs]
layout: post
author: "Keith"
---

NFS라는 것을 여태 쓰고 있는 것이 가끔 신기할 때가 있다. 도무지 이게 언제 나온 건데 여태 쓰고 있을까? 새로운 게 없는 건가? 뭐 이런 거다.

어쨌든 이게 요긴할 때가 있다. Samba같이 느려터진 것보다 요긴할 때가 많으니까 쓰는 거다.

가끔 물려놓은 것이 죽거나 꺼졌거나 했을 땐 갑자기 골치덩어리가 되는데, 그 때 어떻게 해야할까 하면?

일단 mount를 실행해서 내 시스템에 뭐가 물려있나 확인한다. 문제가 있는 path가 발견되면

umount -f -l [path]

해주면 된다. 대가 -f는 force의 의미가 있으니까 쓰는데, 이래도 NFS는 잘 안떨어져나간다. 반드시 "-l"을 붙여주어야 된다.

"-l"은 lazy라는 option이다. 일단 지금 떨궈놓긴 하겠는데 나머지(남은 작업들)는 될 때 하겠다. 뭐 이런 거다. 대개 "-ㅣ"을 안 붙이면 network timeout이 되는 걸 봐서 그때 끊어주는데 이게 제법 지겹다. 내가 생각하기엔 매우 좋은 옵션이라고 생각한다.

이상.

