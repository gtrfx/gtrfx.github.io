---
title: "디지털 오디오 플러그인.."
tags: [audvans]
layout: post
author: "Keith"
---

디지털 오디오 플러그인을 취미로 시작한지 10년 넘었다. 처음 1년간 재미로 열심히 하다가 그 이후로 손을 놓고 있다가 얼마전에 다시 시작했다.

왜? 개인적인 일이 있어서 손을 놓고 있다가 한참 뒤에 AX8, FM3같은 이펙터를 가지고 있다가 팔아버리니 서운해서였다고나 할까?

막상 AX8, FM3가 있으면 맘 내킬 때 곧바로 연습을 하든 녹음을 하든 할 수 있으니까 이게 낫겠구나 한 결정이었는데 알고보니 이랬다.

- AX8/FM3든 시작하려면 제법 시간이 걸리고 그 자체로 모두 완성되는 것이 아니니 이것 저것 다른 기기도 켜야 해서 제법 번거롭다.
- 톤을 편집하는 과정이 꽤 복잡하다. 페달에서 다 완료할 수도 없다. 워낙 변수가 다양하게 많아서.
- 웃긴 건 앰프의 종류와 파라미터, 스피커 캡이 아무리 많아도 대부분 그냥 비슷비슷하게 들린다는 거다.
- 녹음같은 걸 해보려고 하면 결과는 딱 한가지 톤으로 정해지기 때문에 나중에 음색을 바꾸는 것은 불가능하다.

디지털 오디오 플러그인은 그렇지 않다. 나는 로직을 쓰고 있으니까 로직이 올라오면 곧바로 쓸 수 있고 AX8/FM3에 비해서 훨씬 다양한 구성도 쉽게 꾸릴 수 있을 뿐더러 로직의 자체 플러그인도 꽤 훌륭해서 비싼 플러그인이나 아웃보드 부럽지 않은데, 단지 외관이 너무 간단하다보니 간과하기 일쑤이고 너무 많아서 사용법을 제대로 익히기 벅차다.

가장 좋은 것은 실제 앰프처럼 쓸 수 있다는 것이고 녹음을 하고 나도 언제든 음색을 바꿀 수 있다는 거다. 

딱한가지 흠을 잡는다면 디지털에서 일어난 비선형성으로 인해서 하모닉이 생기고 그 하모닉이 낮은 주파수로 스며들어오는 aliasing이 되겠다. 이걸 피하자니 oversampling을 해야되고 그러다보니 부하가 올라간다. 부하를 낮추려면 여러 가지 잔기술이 들어가야되고 그게 꽤나 불편하다. 

진공관 앰프 시뮬레이터의 경우, 소위 하이게인 앰프라고 불리우는 것들은 증폭률도 상당하고 찌그러짐도 상당하다. 그 때문에 앰프 이펙트 하나만으로도 엄청난 찌그러짐이 생기는데, 찌그러짐을 제법 많이 유도하는 페달형 오버드라이브와 같이 사용하게 되면, 특히나 저음 역을 주로 찌그러뜨리다보면 출력이 거의 사라져버리듯 뭉개지는 경향이 생길 정도다. 사실 이 정도의 강력한 드라이브는 별 필요없지만.

향후에 컴퓨터 기술이 더 발전하게 될 것을 감안하고 보면 오버샘플링을 왕창해서 실제 아날로그 회로처럼 aliasing 걱정없이 쓸 수도 있지 싶다만. 당장엔 거의 aliasing free하게 동작시키려면 제법 컴퓨터 부하의 압박을 받을 수 밖에 없다.

왜 oversampling 자체가 그렇게 부담이 되냐 할 수 있을텐데, oversampling 자체는 별 것 없지만 oversampling시에 일어나는 문제를 줄이기 위해서 filtering을 해야 하기 때문이다. 말이 oversampling이지 실제 구성은 다음과 같아진다. 

```

anti-aliasing filter (LPF) - oversampling - saturating - anti-aliasing filtering (LPF)- downsampling

```

진공관 앰프 시뮬레이터면 이걸 사실 거의 대부분의 증폭단에 다 넣어줘야 한다. 페달 오버드라이브 같은 것은 고작해야 diode가 나오는 구간 딱 한 곳 혹은 두 곳만 해주면 되지만. 

요즘 보면 ToneX 다 뭐다 해서 쉽게 말해서 예전에 Kemper에서 나왔던 앰프 시뮬레이터, 그러니까 득정한 앰프의 설징의 스냅샷만 잡아서 (그걸 profiling한다고 한다) 저장해놓고 불러다 쓰는 그런 구조를 소형으로 만들어 낸 게 꽤나 인기라는 것처럼 들린다. 내가 이해하기로는 아마도 IK Multimedia든 혹은 그 회사가 사가지고 들여온 소프트웨어든 Kemper가 써먹은 기술을 리버스 엔지니어링 했거나 비슷한 구조를 구현해냈지 싶은데, 골자는 이렇게 하는 것이 앰프 세팅하고 하는 것이 귀찮은 사람들에겐 큰 도움이 되지만 실제의 앰프처럼 다룰 수는 없다는 것이 단점으로 작용한다고 해야지 싶다.

비록 디지털 오디오 플러그인이라고 하더라도 음색을 최대한 가깝게 재현해내기 위해서 진공관 증폭단 하나도 꽤나 꼼꼼하게 모델해서 3-4단이나 되는 (어떤 것들은 훨씬 더 많은) 증폭단을 모델하고 튜닝한다. 거기에 파워앰프의 증폭단, 그리고 feedback loop까지 앰프 설계 그대로 모델링한다. ToneX라든가 Kemper 따위가 흉내낼 수 없을 정도로 복잡하게 되어있다. 

그러면 ToneX라든가 Kemper류의 이펙트가 어떤 구성을 하고 있느냐에 대한 궁금증이 생길 수 있는데, 그것들은 대개 이런 구성을 하고 있다.

1차 EQ (filter) - Saturation - 2차 EQ (filter)

말이 EQ지 FFT-based linear filter라서 그래픽 EQ로 치자면 256 band 정도 된다고 할 수 있다. 적어도 예전에 Kemper의 사용자 데이터를 들여다봤을 땐 그랬던 것 같다. 512도 할 수 맀고 1024도 할 수 있겠지만, 단순히 밴드의 수가 많다고 온전히 좋다고만 할 수도 없는 것이니까. 

1차 EQ는 저음량의 test signal (chirp 또는 pseudo white noise)를 쏴서 측정하고 2차는 찌그러짐이 잔뜩 일어나게 해서 얻어낸 주파수 특성을 바탕으로 얻어냈지 싶은데, Kemper의 profile에서 주로 보는 것은 이 2가지 주파수 응답과 찌그러짐이 시작되는 전압 레벨이라고 보면 된다. 그러니까 아주 쉽게 말해서 찌그러지기 전 주파수 응답, 찌그러진 다음 주파수 응답, 그리고 찌그러지기 시작하는 전압레벨 이렇게 측정해서 앰프의 스냅샷을 측정하고 재현하는 것이다.

생각해보면 사실 이 이상 정보를 얻어낼 수도 없다. 왜냐면 프로파일러가 할 수 있는 것은 테스트 시그널을 쏘고 그걸 앰프 출력을 통해서 받아가거나 아니면 마이크를 통해서 받아가는 게 전부니까 말이다. 찌그러지기 전 주파수 특성도 앰프 EQ와 스피커 캡 + 마이크 특성을 포함하게 되고 찌그러진 후의 주파수 특성도 마찬가지로 앰프 EQ와 + 찌그러진 뒤의 EQ 특성 + 스피커 캡 + 마이크 특성을 담고 있기 때문이다. 

뭐랄까 아이디어가 들어간 부분은 찌그러지기 전과 후의 주파수 응답 차이를 어떻게든 반영해 내려고 했다는 것이라고 해야할 것 같다. 어떻게든 오디오 신호가 심하게 망가지면 오버톤 (harmonics)가 늘어나고 그걸 이용해서 기타 음력대 이상의 주파수 특성까지 다 잡아낼 수 있으니까 나름 의미가 있다고 해야할 것 같다.

불행히도 profiler에서 test signal로 DC 혹은 매우 느리게 변화하는 입력 신호를 넣을 수는 없다. 이렇게 하면 거의 매 증폭단에서 cut이 되어버리니까. 이게 가능하면 사실상 앰프의 특성을 제대로 얻어낼 수 있겠지 그렇게 할 수 없고, Kemper의 test signal을 들어보면 ramping up하는 chirp signal을 통해서 찌그러짐이 어디서 시작되는지 정도만 파악하고 있는 듯 하다. 비대칭 찌그러짐이 일어나는지 다단으로 일어나는지는 파악하기가 불가능에 가깝다. 직도 아니고 교류를 쏘아보내기 때문이기도 하고 입력이 위상이 증폭단에서 수도 없이 뒤집히기 때문에 어디서 어디가 어떻게 찌그러졌는지는 알 수 없다. 다만 어느 지점부터 찌그러지고 있는지만 알 수 있는 거다.

말이 길어졌는데, 프로파일링을 통해서 알 수 있는 성질과 실제의 앰프의 성질은 굉장히 다르다. 후자가 훨씬 더 복잡하고 앰프 회로가 주어지면 사실상 딱 규정되는 것이기 때문에 모델링하기에는 더 쉽다. 전자의 경우는 제한된 정보를 가지고 최대한 비슷한 소리를 끌어내기 위해 노력을 해야하는데, Kemper profiling amp가 나왔을 때 엄청난 인기를 끌었던 것을 생각하면 사람들의 귀가 생각보다 많이 예민하진 않다라는 사실이다. 지금도 ToneX가 잘 팔리고 있는 걸 봐도 그렇다.

ToneX를 구입할 사람이면 앰프 들고다니기 귀찮아서 쓰는 사람들인 경우 실제 앰프가 아니니까 소리가 좀 모잘라도 그렇겠거니 하는 거고 그외의 실물의 앰프를 구경 못 해본 사람들은 어느 정도 자신이 알던 소리와 유사한 뉘앙스의 소리만 나도 감격하게 될 게 뻔하니까 장사가 되는 거라고 본다. 뭐 유튜브를 통한 마케팅이 꽤나 활발하게 이루어지는 것도 이루어지는 것이지만.

내가 보는 관점에서는 최근 Neural DSP라는 곳에서 꽤나 신경 쓴 앰프 시뮬레이터가 나오고 있다는 것 정도가 눈여겨 볼 만한 정도라고 볼 수 있을 것 같다. 많이 배가 아프지만, 제법 돈을 들여서 만든 티가 난다. 앰프 시뮬레이션 기법은 내가 사용하는 방법과 꽤나 유사한 것 같은데, 이미 만들어져 있던 모듈들 (스피커 IR loader, noise gate, reverb, ...)를 한꺼번에 넣어서 팔기 때문에 귀찮은 세팅 싫어하는 사용자에게 팔기 좋을 뿐더러 인터페이스도 수려하기 때문에 꽤 비싼 가격이지만 잘 팔릴 수 밖에 없구나 한다.

특히나 유명한 앨범에서 나오는 앰프 세팅 + 스피커 IR을 넣어서 파는 것은 잘하는 일이라고 생각된다. 아무리 앰프 시뮬레이션을 잘 했다고 하더라도 이 정도의 상품성이면 나와 같은 개인의 작업물과는 경쟁이 불가하다고 본다. 그냥 두 손 두 발 들게 된다. 