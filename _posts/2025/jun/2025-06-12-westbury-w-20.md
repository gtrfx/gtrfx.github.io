---
title: "Effect plugin 하나 더 추가..."
tags: [audvans]
layout: post
author: "Keith"
---

Westbury W-20이라는 12AX7 진공관 1알이 들어간 디스토션 페달이 있다. Shawn Lane이라고 80년대 후반 90년대에 인기가 있었던 기타리스트였는데 그가 사용한 것으로 꽤나 알려진 페달 되시겠다.

구조는 쉽게 말해서 12AX7에 들어있는 triode 2개가 초반 증폭단 2개의 역할을 하고 마지막에 diode clipper가 정점을 찍게 되어있다. 진공관 증폭단이 2개 있다고 해서 그것들이 획기적인 변화를 가져다 주는 것도 아니고 그냥 초단의 증폭단일 뿐이다. 찌그러짐이 있긴 하겠지만 fender style의 tone stack이 붙어있어서 일종의 트레이드 마크 격인 사운드를 만들어주는 것도 아니고 그냥 아주 일반적인 증폭단 두개만 덜렁 붙어있는 거다. 중간에 증폭률을 조정하는 가변저항을 끼워넣은 채로.

문제는 종단의 diode clipper가 애매하게도 ground와 연결된 것이 아닌 첫번째 triode의 cathode에 연결되었다는 것이다.

잠시 본론에서 멀어져서 다이오드 클리퍼에 대해서 얘기하자면,

다이오드 클리퍼의 특징은 음으로든 양으로든 threshold voltage를 넘어가면 전류를 확 흘려보내고 그렇지 않으면 자신을 통해서 전압을 나타내는 그런 성질을 가지고 있다는 것이다. 그러니까 sound wave가 threshold voltage를 넘어가면 모두 찌그러지고 그렇지 않으면 멀쩡하게 있는 그런 특징이랄까? 실제의 특성은 그것과는 제법 많이 다르긴 하지만 멀리서 보면 그렇다는 거다. 

대개의 디스토션/오버드라이브 페달 같으면 다이오드 클리퍼가 opamp의 feedback loop에 들어가있거나 그냥 이펙터의 종단부에 그라운드와 연결되어있는 게 보통이다. 둘의 차이가 어떠냐? 할 수 있는데 기본적으로 신호를 찌그러뜨린다는 것은 일관되지만 후자가 좀 과하게 망가뜨리면서 뭔가 벙벙대면서도 얇은 소리를 (=고조파가 많아짐) 만들어낸다고나 할까?

이것엔 다 이유가 있다. 이해하기 쉽게 생각하자면 diode clipper 앞쪽에 C (capacitor)가 붙어있다고 가정하고 (대부분 직류성분을 거르기 위해 그렇게 되어있다고 보는 게 맞다) diode를 일종의 가변저항이라고 놓고 보면 (그러니까 자신에게 걸리는 전압이 높아지면 R이 갑자기 작아지고 낮아지면 R이 갑자기 커지는) 그 C-R의 구성은 일종의 low pass filter가 되는데 cut off frequency가 입력 신호의 크기에 따라 왔다갔다하는 성질을 가지고 있다고 볼 수 있는 거다.

그러니까 입력신호가 작으면 R이 큰 값을 가지니까 cut off frequency가 낮은데, 큰 값을 가지면 cut off frequency가 갑자기 순간적으로 크게 증가한다고 볼 수 있다. (아마도 diode clipper를 이렇게 해석하는 사람은 나도 첨본다. 이야기하면서도 좀 기가막힌. 그러나 별달리 반박을 할 수는 없는)
알다시피 LPF에서 cut off이 확 올라가면 저음/중음이 날아가는 매우 얇은 소리처럼 들리게 마련이다. 물론 순간적으로 그럴 뿐이다. 신호의 크기가 계속 변화하니까.

그러면 다시 본론으로 돌아와서, 다이오드 클리퍼가 그라운드에 붙지 않고 초단의 cathode에 가서 붙게 되면 어떻게 되는 것일까?

나름 설계한 사람이 뭐랄까 나름 오디오 회로에 감각이 있는 사람이라고 말해야 할까 싶은데, 내가 보기엔 일종의 negative feedback loop가 형성된 것이라고 본다. 

살짝 자세하게 썰을 풀어보자면, 다이오드에 걸리는 전압이 음/양으로 0.7V (1N4148이니까 그렇다고 치자)를 못 넘어가는 입력이 들어오면 사실상 cathode의 node voltage는 사실상 고정된 DC voltage node라고 볼 수 있다. 그러나 더 큰 전압이 걸리게 된다면 많은 전류가 흘러서 빠져나가야 한다. 어디로? cathode register + cap으로. cathode로 전류가 빠져나가면 사실상 cathode voltage가 elevated 된다는 말은 (입력 전압은 고정되어있으니까) bias voltage가 높아지는 - 다시 말이 입력 전압이 줄어드는 - 결과가 되는 거다.

진공관 증폭기에 대해서 낯선 사람을 위해 썰을 더 풀자면, 진공관은 TR과 다르게 negative bias라고 볼 수 있다. 그러니까 입력 전압이 0V라고 하면 cathode의 voltage를 끌어올려서 상대적으로 grid-cathode간 전압이 -가 되어야 plate - cathode로 전류를 흘릴 수 있게 되어있는 구조라는 것이다. 이 지점에서 입력전압이 살짝 살짝 변하면 plate-cathode간을 흐르는 전류량의 변화로 그것보다 몇 십배 큰 전압의 변화가 plate에서 나타나는 것이다. 그렇게 증폭을 하는 거다. 더 쉽게 말해서 기준점이 -여야 증폭기 기능을 한다는 말이다. 또 달리 말하면 기준점에서 cathode voltage가 grid voltage보다 높아야 정상적인 증폭이 일어난다는 말도 된다.

기타 앰프는 증폭단이 정상적으로 (그러니까 왜곡이 없이) 동작하는 영역을 관심있게 보는 게 아니라 찌그러짐에 중점을 두고 있다. 입력 전압이 너무 높거나 너무 낮거나 하는 경우를 생각해야 하는 거다. 그래서 해석이나 시뮬레이션이 쉽지 않은 거다. 정상 범위에만 있다면 입력신호에 증폭률만 곱해서 내보내면 아주 쉽게 끝날 문제인데 다시 말해 '예외의 경우'를 더 중요하게 다뤄야 그럴싸 한 소리가 나기 때문이다.

다시 돌아와서, diode clipper에서 넘쳐흐르는 전류를 cathode resistor가 받게 되면 cathode voltage가 올라가게도 (+방향 신호) 혹은 낮아지게도 (-방향) 된다. 증폭단 2개를 거쳤기 때문에 다이오드 클리퍼에 걸리는 전압은 입력과 같은 위상 (정위상?)이 되기 때문이다. +으로 전압이 오르는데 cathode이 전압이 따라 올라가기 때문에 올라도 오른게 아닌게 된다. negative feedback이 걸리는 거다. 반대로 -로 전압이 내려가는데 cathode 전압이 따라 내려가기 때문에 내려도 내린 게 아닌 게 된다. 입력 진폭에 따라 증폭률이 달라지는 일종의 VGA (variable gain amplifier)가 되는 거다. 

여기까지 오느라 썰을 많이 풀었다. 그냥 한줄로 쓰면 되는 걸. 

그러면 여기서부터 정확하게 어느 정도로 영향을 받는지 알아보기로 하자.

기준점인 cathode node의 voltage에 대해서 생각하면, ac analysis를 한다고 보면 입력전압보다 제법 작은 수준으로 따라간다고 볼 수 있다. 그렇게 되면 이게 negative feedback처럼 작용해서 grid-cathode간 전압차를 줄이기 때문에 결과적으로 증폭률이 떨어지게 된다. 그런데 거기에 cathode cap이 붙어있기 때문에 cathode register의 걸리는 전압의 변화 - 즉 입력전압과 같은 위상의 전압의 변동 - 을 모두 흡수한다고 보면, 사실상 bias voltage가 고정되어 증폭률은 제법 큰 값으로 고르게 유지되는 특징을 갖게 된다. cap의 값이 크면 클수록 낮은 주파수의 신호들에 대해서 잘 대응을 할 수 있고. 쉽게 말해 일종의 hpf처럼 동작한다고도 볼 수 있다. 

ac관점으로 보면 교류전압 출력의 절대값이 0.7에 미치지 못하면 ac analysis를 하자면 cathode voltage가 사실상의 ground 역할을 하는 것이니까 그냥 출력을 내보내면 된다. 회로도에 보면 cap이 제법 커서 사실상 거의 pass된다고 봐도 될 정도다 (hpf를 달아도 되긴 하겠지만).
그런데 0.7v보다 커지면 그때 빠져나가는 전류가 1.5k cathode register에 걸린다. 이것은 다시 말해 출력 전압에서 0.7v를 빼고 나머지가 거기에 다 걸린다고 보면 된다. 그만큼 입력전압에서 빠져나간다고 봐도 된다. 

여기까지 오는데 제법 걸렸다. 한줄로 말하면 굉장히 쉬운데. 이제 문제가 간단해진다. 출력 전압으로 나타나는 값에서 cathode R+C 조합으로 나타나는 HPF를 반영해서 입력에서 빼주면 된다. c값이 22uF으로 크기 때문에 사실상 아주 저음을 빼면 다 걸린다고 보면 된다. 그런데 그 양이 얼마냐? 출력에서 0.7를 뺀 나머지를 hpf를 통과시킨 양 만큼이다. 말은 좀 추상적이긴 한데 어쨌든.

이렇게 되면 결과가 어떻게 되느냐? 이렇게 간단한 대답을 하려고 이렇게 길게 썰을 푼건 아니지만, 찌그러져야 되는 입력 신호의 일부분이 feedback되어 돌아와서 실제적으로는 덜 찌그러지게 된다. 그래서 소리가 너무 harsh하지 않다. harsh하다는 말이 입력이 너무 커지면 저음이 와장창 잘려나가고 high 성분만 들리는 괴랄한 소리가 아니고 (이미 앞에서 이 성질에 대해서는 얘길 했다) 적당히 고음이 깎여나가고 중저음이 덜 날아간 그런 소리가 된다. 

