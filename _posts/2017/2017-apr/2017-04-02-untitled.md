---
layout: post
title: "회사에 있는 NAS로 집에서 영화보기"
author: "Keith"
---


누군가 질의해 온 내용이 있어서 잠깐 블로깅 해본다.




방법은 여러 가지가 있다. 어떠한 방법을 택하느냐는 본인이 처한 환경에 따라 달라질 뿐이다.




대개 회사는 ISP에서 비싼 회선을 끌어들여오고 그 회선에 내부 네트웍을 연결시키는 장치 (router/net filter 등등이 설치된 장비, 가정으로 치면 무선공유기)가 물리고 거기에 사내망이 물리게 되어있는 구조이다.

규모가 좀 크면 사내망도 규모가 매우 커서 이런 장치가 여럿 있을 수 있고. 




구조야 어떻게 되었든 중요한 것은 내가 집에서 사내망의 NAS와 접속을 할 수 있느냐 없느냐의 문제다.




접속이 가능하다면 webdav를 열어놓거나 nas에 vpn을 걸어놓고 samba나 NFS를 열어두는 방법이 가장 쉬울 것이다.




접속이 불가능하다면 회사망에 접속되어있는 나의 PC 혹은 다른 장비를 집에 있는 어떤 장치와 연결하는 것이 맞다. 




무슨 말이냐면 가정으로 들어오는 인터넷의 많은 부분은 외부에서 접속이 가능하다. IP주소는 자주 바뀌지 않으니 그것을 적어놓고 쓰던가 아니면 ddns.net 과 같은 데서 domain name을 부여받는 수도 있다. 요샌 공유기들이 이런 기능을 지원한다.




자신이 ISP로부터 받은 IP 주소를 dynamic dns를 서비스하는 곳에 연결해서 스스로 갱신한다. 따라서 IP 주소가 빈번히 바뀌더라도 나는 domain name만 알면 된다.




어쨌든 공유기를 통해서 port forwarding을 하든 vpn을 연결할 수 있게하든 외부에서 집에있는 장치를 연결할 수 있게 하면 된다. 그 다음엔 NAS와 회사의 나의 PC혹은 그외 장비사이에 tunnel만 뚫어주면 된다.




이 방법도 다양하게 많다. 명확하게 얘기할 수 없는 것은 NAS와 나의 장비간에 연결 가능한 protocol이 무엇인가 이를테면 samba라든가 nfs라든가 방법이 많으니까 tunnel을 뚫는 방법은 경우에 따라 다 다르다.




그러면 회사의 나의 PC 혹은 장비를 켜 둔채로 퇴근하고 집에서 그렇게 만들어진 터널로 NAS와 접속하면 된다. 국내는 인터넷이 매우 빠르니 이런 방법을 택하더라도 큰 어려움은 없다.




내가 살고 있는 곳만해도 비싼 돈을 들여 fiber를 들이는 경우가 아니라면 (fiber가 가능한 도시도 그리 많지 않다) 대개 가정용 인터넷은 up은 잘해야 5-6 Mbps밖에 안된다. 상업용으로 쓰는 이들이라도 100MBps up은 잘 안한다. 그러니 당연히 호스팅 비용이 비쌀 수 밖에.




어쩃든 내가 집에서 서비스할 수 있는 것은 끽해야 audio 정도다 video는 속도가 못 받쳐준다. 최소한도로 영상통화만 가능하게 만들어놨다 보면 된다. 




정말 좀 급하다면 회사 망과 자신의 집의 망 상황을 알려달라. 방법은 매우 다양하다.


