---
layout: post
title: "Rotary Encoder"
categories:
    - learning
---

로터리 인코더라는 전기부품이 있다. 이것의 용도는 노브의 형태로 어떤 것을 컨트롤할 때 쓰이는 것으로 좌우로 회전하면서 뭔가를 컨트롤하는 용도로 쓰이는 것이라고 볼 수 있다. 전자식 볼륨이라고 보면 맞을텐데, 잘 알려진 볼륨 팟 처럼 상한고 하한의 구분이 있는 게 아니고 +로 증가시킬 것인지 -로 증가시킬 것일지만 알려주는 것이다. 마우스의 휠이 로터리 스위치를 응용한 컨트롤이라 볼 수 있다. 바퀴에 이것을 붙이면 이동 속도라든가 회전수, 이동거리를 측정할 수 있다.

전체로 5개의 단자를 가지는데, 2개는 전원 - 1과 0을 나타내기 위함일 뿐이다, 그리고 3개는 컨트롤 신호를 위한 단자인데, 2개가 회전과 관련된 것이고 1개가 버튼 on/off와 관련된 것이다. 다시 말해서 로터리 엔코더는 회전에 대한 컨트롤 뿐 아니라, 그 자체가 푸쉬버튼 노릇을 한다. 토글링이 아닌 그냥 푸쉬 버튼이다. 

회전에 대한 정보를 주는 핀이 2개이므로 사실상 4가지 상태에 대한 정보를 줄 수 있지만 좀 애매한 측면이 있다.

즉, 0) 회전하지 않음, 1) 좌로 회전(CW), 2) 우로 회전(CCW), 3) ??? 이 되는데, 그 ???는 2칸 회전에 대한 정보가 된다. 대신 2칸 회전할 때는 CW인지 CCW인지 모호하다는 뜻이다. 그래서 이전에 어떤 상태였는지 봐서 같은 방향으로 돌았겠거니 해서 2칸 회전 시킬 수도 있고 모호하니 그냥 아무 행동을 취하지 않을 수도 있다.

이 2개의 핀은 샤프트를 회전시켰을 때 square wave가 서로 90도가 어긋나 있는 것과 같은 결과를 내보낸다. 따라서 2 pin을 관찰할 때 2개의 on (1) 신호가 과거와 비교해서 좌로 shift되거나 우로 shift되는 듯한 모양을 보고 좌로 turn한 것이냐 우로 turn한 것인지 알게 된다. 

유니버설한 기타 이펙트에 대해서 몇 개의 로터리 인코더가 필요한지 대충 따져보면, 5개 정도가 적당할 것으로 보여지는데, 이렇게 놓고 보니 그 옛날 Korg의 기타 멀티이펙터였던 A3가 떠오른다. 이런 스타일의 컨트롤 방식은 사실 엄청나게 retro한 것이니까. 

