---
layout: post
title: "Gating Effect"
categories:
    - project
---

Gate라는 이펙트는 특정 조건의 신호가 들어오면 받아들이고 그것을 만족 못하면 받지 않는 기능을 하는 이펙트이다. Compressor라든가 Limiter, Expander 등등과 비슷한 기능을 하는 dynamic effect인데, 그 사용 형태가 다소 극단적이라는 차이가 있을 뿐이다.

즉, gate도 입력 신호의 gain을 컨트롤 하는 이펙트인데, 입력 신호가 커지면 게인을 줄이는 컴프레서와는 반대로 입력 신호가 커지면 게인을 올리고 작아지면 게인을 아예 없에버리는 이펙트라고 볼 수 있으니까 극단적인 expander라고 봐야 한다. 

이를테면 다음과 같은 식으로 쓸 수 있겠다.

```
gain = 1 when input signal level > T
gain = 0 when input signal level < T
```

문제는 갑자기 신호가 들어왔다고 해서 게이트를 갑자기 열어버리거나 아니면 신호가 작아졌다고 게이트를 닫아버리면 듣기에 부자연스러울 수 있으니까 어느 정도의 ramp off(transistion) 상태를 두어야 한다는 차이가 있다. 또 얼마나 많은 시간동안 통계를 잡을 것이냐, 또 얼마나 같은 상태를 유지해 주어야 하느냐에 대한 것도 사용자가 결정해주어야 할 몫이 된다.

그래서, 게이트는 hysteresis 특성을 갖게 한다고 보면 3가지의 파라미터를 갖는다. 여기에 한가지 더 signal envelope를 얼마나 filtering할 것인가에 대한 것도 고려할 수 있다. 사용자가 고를 수 있게 하면 복잡해지고, 제작자 맘대로 결정해버리면 게이트도 사실 매우 간단해진다. 

1) Threshold (in-out)
2) Attack 
3) Release

Hysteresis하다는 것은 들어갈 때와 나올 때의 조건이 다르다는 뜻이다. 즉, 게이트를 열때의 신호 레벨과 닫을 때의 신호레벨을 다르게 만들면 좀 더 자연스러워질 것이다라는 생각에서 출발한다.

무슨 말이냐면, 낮은 레벨에서 게이트를 열고 닫게 한다고 하면 게이트가 수시로 열리고 닫히고 할 수 있다. 반면 게이트가 닫혀있다면 게이트를 열때의 레벨을 높게 하면 어설픈 잡음으로 게이트가 열리게 되지 않으니까 좋고, 정상적으로 음이 매우 낮게 깔리는 경우에도 게이트를 갑작스럽게 닫지 않으니까 좋은 것이다.

Attack은 게이트를 시간적으로 얼마나 빨리 열것인가 하는 것이다. 즉, 게이트를 열기로 결정했을 때 그 gain을 어느 정도의 빠르기로 열것인가 하는 것이다. Release는 반대로 게이트를 닫을 때 얼마나 빨리 닫을 것인가 하는 것이다.

아날로그 회로라면 RC 회로의 R을 조정해서 ramp up timing을 조정하는 식으로 하는데, 디지털 영역에서도 exponentially (같은 상수를 계속해서 곱해서) rising/decaying하게 한다.

